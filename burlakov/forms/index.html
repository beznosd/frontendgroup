<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>

		body {
			background: linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(137,216,240,1) 53%, rgba(255,255,255,1) 100%);
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff', GradientType=1 );
		}

		form {
			text-align: center;
			font-size: 20px;
			font-family: arial;
		}
		
		.signup {
			margin: 30px;
			font-weight: 900;
			font-size: 30px;
		}

		input {
			border:none;
		}

		input[type=text] {
			margin: 20px;
			padding: 10px;
			border-left: 3px solid salmon;
		}

		input:focus {
			border: none;
		}

		input[type=submit] {
			background: #29b8e5;
			margin: 30px;
			padding: 20px;
			border-radius: 10px;
			font-size: 20px;
			cursor: pointer;
			transition: 0.4s ease;
		}

		input[type=submit]:hover {
			opacity: 0.6;
			padding: 20px 60px;
			background: red;
			color: white;

		}

		.errorBorder {
			border: 2px solid red;
		}

		.error {
			color: red;
		}

		.success {
			color: green;
		}

	</style>
</head>
<body>
	<form name="registration">
		<div class="signup">REGISTRATION</div>
			<div>Username</div>
			<input type="text" name="username" placeholder="Enter username" required>
			<br>			
			<div>Email</div>
			<input type="text" name="email" placeholder="Enter your e-mail address" required>
			<br>			
			<div>Password</div>
			<input type="text" name="password" placeholder="Enter password" required>
			<br>			
			<div>Repeat password</div>
			<input type="text" name="reppassword" placeholder="Repeat password" required>
			<br>

			<div id="errors"></div>

			<input id="btn" type="submit" value="Sign up">
		
	</form>

	<script>
		
		var btn = document.querySelector('#btn');
		var form = document.forms.registration; 
		var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		var errorBlock = document.getElementById('errors');

		// CHECK INPUT FUNCTION
		error = function(input, message) {
			var errorMessages = document.createElement('div');
			input.classList.add('errorBorder');
			errorMessages.classList.add('error');
			errorMessages.innerHTML = message;
			errorBlock.appendChild(errorMessages);
		};

		// RESET INPUT FUNCTION
		reset = function(input) {
			if (input.classList.contains('errorBorder')) {
				input.classList.remove('errorBorder')
			}
		};

		// CLICK EVENT
		btn.onclick = function(e){	
			e.preventDefault();	
			var elem = form.elements;
			var username = elem.username;
			var email = elem.email;
			var password = elem.password;
			var reppassword = elem.reppassword;

			// RESET ERRORS
			errorBlock.innerHTML = '';

			// CHECK INPUTS
			reset(username);
			if (username.value.length < 3) {
				error(username, 'Username should have at least 3 symbols')
			};

			reset(email);
			if (elem.email.value.search(re)) {
				error(email, 'E-mail address is incorrect')	
			};

			reset(password);
			reset(reppassword);
			if (password.value.length < 4) {
				error(password, 'Password should have at least 4 symbols');
				error(reppassword, '');
			} else if (password.value !== reppassword.value) {
				error(password, 'Passwords dont match');
				error(reppassword, '');
			};

			// SUCCESS 
			if (!username.classList.contains('errorBorder') && !email.classList.contains('errorBorder') && !password.classList.contains('errorBorder')) {
				errorBlock.classList.add('success');
				errorBlock.innerHTML = 'Success!';
			};

		};

	</script>
</body>
</html>